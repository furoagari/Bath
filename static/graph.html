<html lang='ja'>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="./chartist.min.js"></script>
<link rel="stylesheet" href="./chartist.min.css" />
<style>

</style>
</head>
<body>
<div class="graph">
<div class="ct-Lx ct-chart ct-perfect-fourth"></div>
<div class="ct-Humi ct-chart ct-perfect-fourth"></div>
<div class="ct-Press ct-chart ct-perfect-fourth"></div>
<div class="ct-Temp ct-chart ct-perfect-fourth"></div>
<div class="ct-Uv ct-chart ct-perfect-fourth"></div>
</div>
<script>

var interval = 2000;
var options = {
  width: '400px',
  height: '300px'
};


	$.ajax({
		type: "GET",
		dataType: "JSON",
		url: "http://210.140.162.51/flaskr/api/v0/getdata",
		success: function(res) {
			console.log(res);
			var lx = res['Lx'];
			
			var data = {
			labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],
  			series: [lx]
  			};
  			var data1 = {
			labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],
  			series: [res['Humi']]
  			};
  			var data2 = {
			labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],
  			series: [res['Press']]
  			};
  			var data3 = {
			labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],
  			series: [res['Temp']]
  			};
  			
  			
			new Chartist.Line('.ct-Lx', data,options);
			new Chartist.Line('.ct-Humi',data1,options);
			new Chartist.Line('.ct-Press',data2,options);
			new Chartist.Line('.ct-Temp',data3,options);
		},
		error: function() {
			
		}
	})
setInterval(function () {

	$.ajax({
		type: "GET",
		dataType: "JSON",
		url: "http://210.140.162.51/flaskr/api/v0/getdata",
		success: function(res) {
			console.log(res);
			var lx = res['Lx'];
			
			var data = {
			labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],
  			series: [lx]
  			};
  			var data1 = {
			labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],
  			series: [res['Humi']]
  			};
  			var data2 = {
			labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],
  			series: [res['Press']]
  			};
  			var data3 = {
			labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],
  			series: [res['Temp']]
  			};
  			
  			
			new Chartist.Line('.ct-Lx', data,options);
			new Chartist.Line('.ct-Humi',data1,options);
			new Chartist.Line('.ct-Press',data2,options);
			new Chartist.Line('.ct-Temp',data3,options);
		},
		error: function() {
			
		}
	})
}, interval);
</script>
</body>
</html>
